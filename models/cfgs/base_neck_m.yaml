
channel_multiple: 1.0

expected_input_shape:
  - [128, 52, 52]
  - [256, 26, 26]
  - [512, 13, 13]

architecture:
  # [module, args]
  [
    [PWConv, [512, 256]],
    [Upsample, [None, 2, "nearest", -1]],
    [ConcatLayer, [1, [-1, -4]]],
    [BottleneckCSP, [512, 512, 3, 0.5, False, False]],
    [LSDropBlock, [5, 30]],

    [ConvBnAct, [512, 128]],
    [Upsample, [None, 2, "nearest", -1]],
    [ConcatLayer, [1, [-1, -10]]],
    [BottleneckCSP, [256, 256, 3, 0.5, False, False]],
    [LSDropBlock, [5, 30]],

    [ConvBnAct, [256, 256, 3, 2]],
    [ConcatLayer, [1, [-1, -8]]],
    [BottleneckCSP, [768, 512, 3, 0.5, False, False]],
    [LSDropBlock, [5, 30]],

    [ConvBnAct, [512, 512, 3, 2]],
    [ConcatLayer, [1, [-1, -15]]],
    [BottleneckCSP, [768, 1024, 3, 0.5, False, False]],
    [LSDropBlock, [5, 30]]
  ]

output_layers:
  # input layer_idx
  [-1, -6, -9]